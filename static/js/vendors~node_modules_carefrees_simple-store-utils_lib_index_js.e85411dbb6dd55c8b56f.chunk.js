(self.webpackChunkexamples=self.webpackChunkexamples||[]).push([["vendors~node_modules_carefrees_simple-store-utils_lib_index_js"],{15870:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CSTU_Instance=void 0;let _=r("86299");t.CSTU_Instance=class e{_get_CSTU_list=e=>(this[e]=this[e]||[],this[e]);_get_CSTU_store=e=>(this[e]=this[e]||{},this[e]);_get_CSTU_map=e=>(this[e]=this[e]||new Map([]),this[e]);_create_CSTU_register=(e,t,r,a,s=!1)=>(this._get_CSTU_list(e).push(a),()=>{this[e]=this._get_CSTU_list(e).filter(e=>e!==a);let{preserve:n=!0}=a,o=(0,_.CSTU_getFormatPath)(a.path),i=this._get_CSTU_list(e).find(e=>(0,_.CSTU_getFormatPath)(e.path)===o);if(!n&&!i){let e=(0,_.CSTU_toArray)(a.path),n=(0,_.CSTU_getValue)(this._get_CSTU_store(r),e),o=(0,_.CSTU_getValue)(this._get_CSTU_store(t),e);n!==o&&(this[t]=(0,_.CSTU_setValue)(this._get_CSTU_store(t),e,n,s))}});_create_CSTU_registerWatch=(e,t)=>(this._get_CSTU_list(e).push(t),()=>{this[e]=this._get_CSTU_list(e).filter(e=>e!==t)});_create_CSTU_notice=(e,t)=>{let r=(0,_.CSTU_getFormatPath)(t),a=this._get_CSTU_list(e).filter(e=>(0,_.CSTU_getFormatPath)(e.path)===r);a.forEach(e=>{e&&"function"==typeof e.update&&e.update()})};_create_CSTU_bathNotice=(e,t=!0)=>{Array.isArray(t)?t.forEach(t=>{t&&this._create_CSTU_notice(e,(0,_.CSTU_splitPath)(t))}):"boolean"==typeof t&&t&&this._get_CSTU_list(e).forEach(e=>{e&&"function"==typeof e.update&&e.update()})};_create_CSTU_noticeWatch=(e,t,r)=>{let a=(0,_.CSTU_getFormatPath)(r),s=(0,_.CSTU_getValue)(this._get_CSTU_store(t),(0,_.CSTU_toArray)(r));this._get_CSTU_list(e).forEach(e=>{(0,_.CSTU_getFormatPath)(e.path)===a&&e.update(s)})};_create_CSTU_updateValue=(e,t,r,a,s,n=!0,o=!1)=>{let i=(0,_.CSTU_getValue)(this._get_CSTU_store(t),(0,_.CSTU_toArray)(a));this[t]=(0,_.CSTU_setValue)(this._get_CSTU_store(t),(0,_.CSTU_toArray)(a),s,o),i!==s&&this._create_CSTU_noticeWatch(r,t,a),"boolean"==typeof n&&n?this._create_CSTU_notice(e,a):Array.isArray(n)&&this._create_CSTU_bathNotice(e,n)};_create_CSTU_bathUpdateValue=(e,t,r,a,s=!0,n=!1)=>{a&&(Object.entries(a).forEach(([e,a])=>{let s=(0,_.CSTU_getValue)(this._get_CSTU_store(t),(0,_.CSTU_toArray)(e));this[t]=(0,_.CSTU_setValue)(this._get_CSTU_store(t),(0,_.CSTU_splitPath)(e),a,n),s!==a&&this._create_CSTU_noticeWatch(e,r,t)}),"boolean"==typeof s&&s?this._create_CSTU_bathNotice(e,Object.keys(a)):Array.isArray(s)&&this._create_CSTU_bathNotice(e,s))};_create_CSTU_getValue=(e,t)=>t?(0,_.CSTU_getValue)(this._get_CSTU_store(e),(0,_.CSTU_toArray)(t)):this._get_CSTU_store(e);_create_CSTU_init=(e,t,r,a=!1)=>{a?(this[e]=r||{},this[t]=(0,_.CSTU_merge)({},this._get_CSTU_store(e))):(this[t]=r||{},this[e]=(0,_.CSTU_merge)(this._get_CSTU_store(t),this._get_CSTU_store(e)))};_create_CSTU_bathRunSelector=(e,t)=>{this._get_CSTU_map(e).forEach(e=>{let t=e.selector(this),r=!1;"function"==typeof e.equalityFn&&(r=e.equalityFn?.(e.preValue,t)),e.preValue=t,!r&&e.updateData(t)})};_create_CSTU_registerSelector=(e,t,r,_,a)=>{let s=r(this);return this._get_CSTU_map(e).set(t,{preValue:s,selector:r,updateData:_,equalityFn:a}),{data:s,unMount:()=>{this._get_CSTU_map(e).delete(t)}}};_create_CSTU_getSelectorValue=(e,t)=>{let r=this._get_CSTU_map(e).get(t);if(r){let _=r?.selector(this);r.preValue=_,this._get_CSTU_map(e).set(t,r)}return this._get_CSTU_map(e).get(t)?.preValue}}},13632:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},42450:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.use_CSTU_Update=t.create_CSTU_hooks_InstanceSelector=t.create_CSTU_hooks_InstanceFieldWatch=t.create_CSTU_hooks_InstanceItemRegister=t.create_CSTU_hooks_InstanceContext=t.create_CSTU_InstanceProvider=t.create_CSTU_Hooks_Instance=t.create_CSTU_InstanceContext=void 0;let _=r("73156"),a=r("86299");t.create_CSTU_InstanceContext=e=>(0,_.createContext)(e);t.create_CSTU_Hooks_Instance=function(e){return function(t){let r=(0,_.useRef)(null);return!r.current&&(t?r.current=t:r.current=new e),[r.current]}};t.create_CSTU_InstanceProvider=function(e,t){return function(r){let{instance:a,children:s}=r,[n]=e(a);return(0,_.createElement)(t.Provider,{value:n,children:s})}};t.create_CSTU_hooks_InstanceContext=function(e){return function(){return(0,_.useContext)(e)}};t.create_CSTU_hooks_InstanceItemRegister=function(e,r){return function(a){let{path:s}=a,n=(0,t.use_CSTU_Update)(),o=(0,_.useContext)(e);return(0,_.useEffect)(()=>{let e;return r&&(e=o[r]({path:s,update:n.current})),()=>e?.()},[JSON.stringify(s)]),o}};t.create_CSTU_hooks_InstanceFieldWatch=function(e){return function(r,a,s){let n=(0,_.useRef)(),o=(0,_.useRef)(()=>void 0),i=(0,t.use_CSTU_Update)();return o.current=e=>{n.current=e,"function"==typeof s?s(e):i.current()},(0,_.useEffect)(()=>{let t;return e&&(t=r[e]({path:a,update:o.current})),()=>t?.()},[JSON.stringify(a)]),n.current}};t.create_CSTU_hooks_InstanceSelector=function(e,r,s){return function(n,o=a.CSTU_isEqual){let i=e(),u=(0,t.use_CSTU_Update)(),c=(0,_.useRef)(n);c.current=n;let l=(0,_.useRef)(Symbol("use_CSTU_InstanceSelector")),S=(0,_.useRef)(i?.[r]?.(l.current,c.current,u.current,o));return(0,_.useEffect)(()=>()=>S.current?.unMount?.(),[l.current]),i?.[s]?.(l.current)}};t.use_CSTU_Update=()=>{let[,e]=(0,_.useState)({}),t=(0,_.useRef)();return t.current=()=>{e({})},t}},37672:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let _=r("35685");_.__exportStar(r("13632"),t),_.__exportStar(r("15870"),t),_.__exportStar(r("42450"),t),_.__exportStar(r("86299"),t)},19623:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CSTU_getValue=void 0;t.CSTU_getValue=(e,t)=>{let r=e;for(let e=0;e<t.length;e+=1){if(null==r)return;r=r[t[e]]}return r}},34439:function(e,t,r){"use strict";function _(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}Object.defineProperty(t,"__esModule",{value:!0}),t.CSTU_isEqual=void 0;t.CSTU_isEqual=function(e,t){if(_(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;let r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!_(e[r[a]],t[r[a]]))return!1;return!0}},92858:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CSTU_merge=t.CSTU_setValue=void 0;let _=r("19623"),a=(e,t,r,_=!1,s)=>{let n;if(!t.length)return r;let[o,...i]=t;return n=e||"number"!=typeof o?e?Array.isArray(e)?_?e:[...e]:_?e:{...e}:{}:[],s&&void 0===r&&1===i.length?delete n[o][i[0]]:n[o]=a(n[o],i,r,_,s),n};t.CSTU_setValue=(e,t,r,s=!1,n=!1)=>Array.isArray(t)?t.length&&n&&void 0===r&&!(0,_.CSTU_getValue)(e,t.slice(0,-1))?e:a(e,t,r,s,n):(console.warn("paths 参数是数组"),e);function s(e){return Array.isArray(e)?[]:{}}let n="undefined"==typeof Reflect?Object.keys:Reflect.ownKeys;t.CSTU_merge=function(...e){let r=s(e[0]);return e.forEach(e=>{!function a(o,i){var u;let c=new Set(i),l=(0,_.CSTU_getValue)(e,o),S=Array.isArray(l);if(S||"object"==typeof(u=l)&&null!==u&&Object.getPrototypeOf(u)===Object.prototype){if(!c.has(l)){c.add(l);let e=(0,_.CSTU_getValue)(r,o);S?r=(0,t.CSTU_setValue)(r,o,[]):(!e||"object"!=typeof e)&&(r=(0,t.CSTU_setValue)(r,o,s(l))),n(l).forEach(e=>{a([...o,e],c)})}}else r=(0,t.CSTU_setValue)(r,o,l)}([])}),r}},86299:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CSTU_splitPath=t.CSTU_toArray=t.CSTU_getFormatPath=void 0;let _=r("35685");_.__exportStar(r("19623"),t),_.__exportStar(r("92858"),t),_.__exportStar(r("34439"),t);t.CSTU_getFormatPath=e=>Array.isArray(e)?e.join("_"):`${e}`;t.CSTU_toArray=e=>Array.isArray(e)?e:[e];t.CSTU_splitPath=e=>e.split("_").filter(Boolean)}}]);